<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Agulu Music</title>
  <link rel="stylesheet" href="sample.css">
  <style>
    .options-container button {
      display: inline-block;
      margin: 10px;
    }
    .options-container {
      display: flex;
      justify-content: space-around;
      padding: 20px;
    }
    

#logo {
color: #0000FF; /* Blue color */
font-size: 36px;
font-weight: bold;
text-align: center;
}

.search-container {
margin-top: 20px;
display: flex;
}

#search-input {
padding: 10px;
width: 70%;
border: 1px solid #ccc;
border-radius: 5px;
}

#search-button {
padding: 10px;
width: 30%;
border: none;
border-radius: 5px;
background-color: #4CAF50;
color: #fff;
cursor: pointer;
}

.options-container {
display: flex;
justify-content: space-around;
margin-top: 20px;
}

.options-container button {
padding: 10px;
border: none;
border-radius: 5px;
background-color: #4CAF50;
color: #fff;
cursor: pointer;
}

.tracks-container {
margin-top: 40px;
}

.tracks-container ul {
list-style: none;
padding: 0;
margin: 0;
}

.tracks-container li {
padding: 10px;
border-bottom: 1px solid #ccc;
}

.tracks-container li:last-child {
border-bottom: none;
}

#variousTracks {
padding: 20px;
border: 1px solid #ddd;
padding-bottom: 50px;
background-color: #f9f9f9;
box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
}

  </style>
</head>
<body style="background-color: brown; position: relative;">
  <div class="container">
    <div class="menu-toggle" style="position: absolute; top: 20px; left: 20px; cursor: pointer; font-size: 20px; color: #fff; text-align: center; line-height: 7px;">
      <span style="display:block;">&#8226;</span>
      <span style="display:block;">&#8226;</span>
      <span style="display:block;">&#8226;</span>
    </div>
    <div class="menu-options" style="position: absolute; top: 50px; left: 10px; background-color: #fff; padding: 10px; border: 1px solid #ddd; display: none; width: 150px; text-align: left;">
      <a href="#" style="text-decoration: none; color: #333; display: block; padding: 10px; border-bottom: 1px solid #ddd;">Home</a>
      <a href="#" style="text-decoration: none; color: #333; display: block; padding: 10px; border-bottom: 1px solid #ddd;">New Music</a>
      <a href="#" style="text-decoration: none; color: #333; display: block; padding: 10px; border-bottom: 1px solid #ddd;">Album</a>
      <a href="#" style="text-decoration: none; color: #333; display: block; padding: 10px; border-bottom: 1px solid #ddd;">Artist</a>
      <a href="#" style="text-decoration: none; color: #333; display: block; padding: 10px; border-bottom: 1px solid #ddd;">Trending</a>
    
    </div>
    <header style="background-color: black; color: #fff; padding: 20px; text-align: center;">
      <h1 id="logo" style="font-size: 36px; font-weight: bold; text-shadow: 2px 2px 5px #000;">AGULU MUSIC</h1>
    </header>
    <div class="search-container" style="background-color: silver; padding: 20px; border: 1px solid #ddd;">
        
      <input type="text" id="search-input" placeholder="Search" style="width: 70%; height: 30px; padding: 10px; font-size: 16px; border: 1px solid #ccc;">
      <button id="search-button" style="width: 20%; height: 30px; padding: 10px; font-size: 16px; background-color: #4CAF50; color: #fff; border: none; border-radius: 5px; cursor: pointer;">Search</button>
    </div>
    <div class="options-container" style="background-color: green; padding: 20px; text-align: center;">
      <button id="newMusicButton" style="margin: 10px;">New Music</button>
      <button id="albumButton" style="margin: 10px;">Album</button>
      <button id="artistButton" style="margin: 10px;">Artist</button>
      <button id="trendingButton" style="margin: 10px;">Trending</button>
    </div>
    <div class="tracks-container">
      <h2 id="tracks-heading">various track</h2>
      <ul id="variousTracks"></ul>
    </div>
    <div id="contact-info" style="display: none;font-weight:bold">
      <p>Call: <a href="tel:+265894126662" style="color: blue; text-decoration: none;">+265 894 12 66 62</a></p>
        <p>Call: <a href="tel:+265894126662" style="color: blue; text-decoration: none;"> +265 893 95 94 77</a></p>
  <p>Call: <a href="tel:+265894126662" style="color: blue; text-decoration: none;"> +265 885 90 31 62 </a></p>
  <p>Whatsapp: <a href="https://wa.me/+265894126662" target="_blank" rel="noopener noreferrer" style="color: blue; text-decoration: none;">click here!</a> </p>
  <p>Facebook: <a href="https://www.facebook.com/profile.php?id=100072469151693" target="_blank" rel="noopener noreferrer" style="color: blue; text-decoration: none;">click here!</a></p>
  <p style="color:blue"> advertisement!! </p>
  <img src="fn.jpg" alt="Image" style="width: 400px; height: 400px;">
</div>
<div id="about-us-info" style="display: none; color: black; font-weight: bold;">
  <p>Agulu Music Gang is a prominent hip-hop and dancehall group hailing from Baluti ghetto in Blantyre, Malawi. The group comprises of six guys including yatrender the rapper ,prom II, cba ,yoineo, y cee, and add gone. With a strong commitment to fostering talent, the group has established itself as a launchpad for emerging artists. This website serves as a platform dedicated to empowering and entertaining the ghetto youth community.</p>
  <p style="color:blue"> advertisement!! </p>
  <img src="chowi.jpg" alt="Image" style="width: 400px; height: 400px;">
</div>
<div class="footer" style="background-color: black; color: #fff; padding: 30px; text-align: center; position: fixed; bottom: 0; width: 80%;">
  <a href="#" id="contact-us" style="color: #fff; text-decoration: none; margin-right: 20px;">Contact Us</a>
  <a href="#" id="about-us" style="color: #fff; text-decoration: none;">About Us</a>
</div>

</div>
<div id="options-div"> <!-- Options content here --> </div>
<div id="song-functionality-div" style="display: none;"> <!-- Song functionality content here --> </div>
<script>


// Check if the DOM is loaded before executing the code
document.addEventListener("DOMContentLoaded", function() {
// Get references to the elements
const menuToggle = document.querySelector(".menu-toggle");
const menuOptions = document.querySelector(".menu-options");
const contactLink = document.querySelector("#contact-us");
const contactMenuLink = document.querySelector(".menu-options a:last-child");
const contactInfo = document.querySelector("#contact-info");
const aboutUsLink = document.querySelector("#about-us");
const aboutUsInfo = document.querySelector("#about-us-info");
const tracksDiv = document.querySelector(".tracks-container");
const homeLink = document.querySelector(".menu-options a:first-child");
const searchInput = document.getElementById("search-input");
const searchButton = document.getElementById("search-button");
const musicData = [
{
    title: "zipepese",
    artist: "king bobz, chowinila and yatrender",
    album: "single",
    release: "2025-01-09",
    duration: "2:34",
    producer: "L B studio (richie)",
    genre: "hip-hop",
    file: "zipepese by king bobz,chowinila and yatrender.mp3",
    artwork: "zipepese.jpg"
  },
{
    title: "umvere agulu",
    artist: "Agulu Gang",
    album: "single",
    release: "2024-12-18",
    duration: "3:58",
    producer: "Arise",
    genre: "Rap",
    file: "umvere agulu by Agulu Gang.mp3",
    artwork: "agulu.jpg"
  },
  {
    title: "anzanga",
    artist: "yatrender ft king bobz",
    album: "single",
    release: "2025-11-09",
    duration: "2:19",
    producer: "Hills",
    genre: "hip-hop",
    file: " anzanga by nsikizi family.mp3",
    artwork: "anzanga.jpg"
  },

  // Add more songs here...
];



let favorites = JSON.parse(localStorage.getItem("favorites")) || {};
let userId = "guest_" + Math.random().toString(36).substr(2, 9);

function displaySongDetails(song) {
  const songListDiv = document.getElementById("variousTracks");
  const optionsDiv = document.getElementById("options-div");
const tracksHeading = document.getElementById("tracks-heading");
  if (tracksHeading) {
    tracksHeading.innerHTML = "";
    }
  songListDiv.innerHTML = "";
  optionsDiv.innerHTML = "";

  const isFavorited = favorites[song.file];

  songListDiv.innerHTML = `
    <div style="background-color: silver; padding: 10px; position: relative; z-index: 1;" class="track-details">
      <img src="${song.artwork}" alt="${song.title} cover art" style="width: 335px; height: 300px; margin-right: 20px;">
      <h2>${song.title}</h2>
      <p>Artist: ${song.artist}</p>
      <p>Album: ${song.album}</p>
      <p>Release: ${song.release}</p>
      <p>Duration: ${song.duration}</p>
      <p>Producer: ${song.producer}</p>
      <p>Genre: ${song.genre}</p>
      <!-- Audio Player (Above) -->
      <div style="margin-bottom: 15px;">
        <audio id="audio-element" controls>
          <source src="${song.file}" type="audio/mp3"> Your browser does not support the audio element.
        </audio>
      </div>
      <!-- Buttons Section (Below) -->
      <div style="display: flex; align-items: center; margin-top: 20px;">
        <button id="download-button" style="background-color: green; color: white; padding: 10px; margin-right: 10px;"> Download </button>
        <button id="favorite-button" style="background-color: ${isFavorited ? 'green' : 'red'}; color: white; padding: 10px; margin-left: 10px;"> ${isFavorited ? "Unfavorite" : "Favorite"} </button>
      </div>
      <div id="notification" style="display: none; background-color: green; color: white; padding: 10px; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);"></div>
    </div>
  `;

  const favoriteButton = document.getElementById("favorite-button");
  const downloadButton = document.getElementById("download-button");
  const notificationDiv = document.getElementById("notification");

  downloadButton.addEventListener("click", () => {
    notificationDiv.style.display = "block";
    notificationDiv.textContent = "Downloading...";
    setTimeout(() => {
      const link = document.createElement("a");
      link.href = song.file;
      link.download = song.title;
      link.click();
      notificationDiv.style.display = "none";
    }, 5000);
  });

  favoriteButton.addEventListener("click", () => {
    if (favoriteButton.textContent === "Favorite") {
      favorites[song.file] = true;
      favoriteButton.textContent = "Unfavorite";
      favoriteButton.style.backgroundColor = "green";
    } else {
      delete favorites[song.file];
      favoriteButton.textContent = "Favorite";
      favoriteButton.style.backgroundColor = "red";
    }

    localStorage.setItem("favorites", JSON.stringify(favorites));
  });
}

// Define the displaySongs function
function displaySongs(songs) {

// Get references to the elements
const songList = document.getElementById("variousTracks");
//const tracksHeading =
 //document.getElementById("tracks-heading");
// Check if the tracks heading exists
/*"if (tracksHeading) {
  songList.innerHTML = "";
} else {
  const heading = document.createElement("h2");
  heading.id = "tracks-heading";
  heading.textContent = "Various Tracks";
  songList.appendChild(heading);
}
*/
const tracksHeading = document.getElementById("tracks-heading");
  if (tracksHeading) {
    tracksHeading.innerHTML = "";
    }
// Check if there are any songs to display
if (songs.length === 0) {
  const errorMessage = document.createElement("p");
  errorMessage.textContent = "Sorry, no songs found matching your search query.";
  errorMessage.style.color = "red";
  songList.appendChild(errorMessage);
} else {
  const tracksContainer = document.createElement("div");
  tracksContainer.style.backgroundColor = "silver";
  tracksContainer.style.padding = "10px";

  // Loop through each song and create a list item
  songs.forEach(song => {
    const songElement = document.createElement("li");
    const songLink = document.createElement("a");
    songLink.href = "#";
    songLink.textContent = `${song.title} by ${song.artist}`;
    songLink.style.textDecoration = "none";
    songLink.addEventListener("click", function() {
      displaySongDetails(song);
    });
    songElement.appendChild(songLink);
    tracksContainer.appendChild(songElement);
  });

  // Append the tracks container to the song list
  songList.appendChild(tracksContainer);
}
}

function resetUI() {
  // Hide song details
  const songDetailsDiv = document.getElementById("song-details");
  if (songDetailsDiv) {
    songDetailsDiv.style.display = "none";
  }

  // Show various tracks heading
 const tracksHeading = document.getElementById("tracks-heading");
  if (tracksHeading) {
    tracksHeading.innerHTML = "various track";
  }
}



function globalSearch(searchTerm) {
  resetUI();
  const filteredSongs = musicData.filter(song => {
    return (
      song.title.toLowerCase().includes(searchTerm.toLowerCase()) ||
      song.artist.toLowerCase().includes(searchTerm.toLowerCase())
    );
  });

  // Reset layout to initial state
  tracksDiv.style.display = "block";
  contactInfo.style.display = "none";
  aboutUsInfo.style.display = "none";
  menuOptions.style.display = "block";
  const optionsContainer = document.querySelector(".options-container");
  optionsContainer.innerHTML = `
    <button id="newMusicButton" style="margin: 10px;">New Music</button>
    <button id="albumButton" style="margin: 10px;">Album</button>
    <button id="artistButton" style="margin: 10px;">Artist</button>
    <button id="trendingButton" style="margin: 10px;">Trending</button>
  `;

  // Reattach event listener for album button
  document.getElementById("albumButton").addEventListener("click", function() {
    resetUI();
    displayAlbums();
  });
 
 document.getElementById("newMusicButton").addEventListener("click", function() {
    resetUI();
    displayNewMusic();
  });
 
  document.getElementById("artistButton").addEventListener("click", function() {
    resetUI();
    displayArtists();
  });
document.getElementById("trendingButton").addEventListener("click", function() {
    resetUI();
    displayTrending();
  });

  // Remove existing search results
  const searchResultsDiv = document.getElementById("variousTracks");
  searchResultsDiv.innerHTML = "";

  // Display search heading and results
  const heading = document.createElement("h2");
  heading.textContent = `Results for "${searchTerm}"`;
  searchResultsDiv.appendChild(heading);

  // Display search results
  if (filteredSongs.length === 0) {
    const errorMessage = document.createElement("p");
    errorMessage.textContent = "Sorry, no songs found matching your search query.";
    errorMessage.style.color = "red";
    searchResultsDiv.appendChild(errorMessage);
  } else {
    const tracksContainer = document.createElement("div");
    tracksContainer.style.backgroundColor = "silver";
    tracksContainer.style.padding = "10px";
    filteredSongs.forEach(song => {
      const songElement = document.createElement("li");
      const songLink = document.createElement("a");
      songLink.href = "#";
      songLink.textContent = `${song.title} by ${song.artist}`;
      songLink.style.textDecoration = "none";
      songLink.addEventListener("click", function() {
        displaySongDetails(song);
      });
      songElement.appendChild(songLink);
      tracksContainer.appendChild(songElement);
    });
    searchResultsDiv.appendChild(tracksContainer);
  }

  // Clear search input field
  searchInput.value = "";
}


// Add event listeners to the menu toggle and links
if (menuToggle && menuOptions) {
menuToggle.addEventListener("click", function() {
menuOptions.style.display = menuOptions.style.display === "block" ? "none" : "block";
});

// Add an event listener to hide the menu when clicking outside
document.addEventListener("click", function(event) {
  if (!menuToggle.contains(event.target) && !menuOptions.contains(event.target)) {
    menuOptions.style.display = "none";
  }
});

}

if (contactLink && contactInfo && tracksDiv) {
contactLink.addEventListener("click", function(event) {
event.preventDefault();
tracksDiv.style.display = "none";
aboutUsInfo.style.display = "none";
contactInfo.style.display = "block";
contactInfo.style.height = "100vh";
const optionsContainer = document.querySelector(".options-container");
optionsContainer.innerHTML = "<h2 style='font-size: 36px; text-align: center;'>CONTACT US</h2>";
});
}

if (contactMenuLink && contactInfo && tracksDiv) {
contactMenuLink.addEventListener("click", function(event) {
event.preventDefault();
tracksDiv.style.display = "none";
aboutUsInfo.style.display = "none";
menuOptions.style.display = "none";
contactInfo.style.display = "block";
contactInfo.style.height = "100vh";
const optionsContainer = document.querySelector(".options-container");
optionsContainer.innerHTML = "<h2 style='font-size: 36px; text-align: center;'>CONTACT US</h2>";
});
}


if (aboutUsLink && aboutUsInfo && tracksDiv) {
aboutUsLink.addEventListener("click", function(event) {
event.preventDefault();
tracksDiv.style.display = "none";
contactInfo.style.display = "none";
aboutUsInfo.style.display = "block";
aboutUsInfo.style.height = "100vh";
const optionsContainer = document.querySelector(".options-container");
optionsContainer.innerHTML = "<h2 style='font-size: 36px; text-align: center;'>ABOUT US</h2>";
});
}

document.querySelector(".menu-options").addEventListener("click", function(event) {
    if (event.target.tagName === "A") {
        event.preventDefault();
        const option = event.target.textContent.trim();

        // Debugging: Check which option was clicked
        console.log("Clicked option:", option);

        // Ensure all sections are hidden first
        if (contactInfo) contactInfo.style.display = "none";
        if (aboutUsInfo) aboutUsInfo.style.display = "none";
        if (tracksDiv) tracksDiv.style.display = "none";

        if (option === "Home") {
            resetUI();
            if (tracksDiv) tracksDiv.style.display = "block"; // Show songs
            displaySongs(musicData);
        } else if (option === "New Music") {
            resetUI();
            if (tracksDiv) tracksDiv.style.display = "block";
            displayNewMusic();
        } else if (option === "Album") {
            resetUI();
            if (tracksDiv) tracksDiv.style.display = "block";
            displayAlbums();
        } else if (option === "Artist") {
            resetUI();
            if (tracksDiv) tracksDiv.style.display = "block";
            displayArtists();
        } else if (option === "Trending") {
            resetUI();
            if (tracksDiv) tracksDiv.style.display = "block";
            displayTrending();
        } 

        if (menuOptions) menuOptions.style.display = "none"; // Hide menu after selection
    }
});

if (homeLink) {
  homeLink.addEventListener("click", function (event) {
    event.preventDefault();
    window.scrollTo(0, 0);
    
    // Hide other sections
    contactInfo.style.display = "none";
    aboutUsInfo.style.display = "none";
    menuOptions.style.display = "none";

    // Show main content
    tracksDiv.style.display = "block";
    document.querySelector(".options-container").style.display = "flex";

    // Reset track heading and song list
    const tracksHeading = document.getElementById("tracks-heading");
    if (tracksHeading) {
      tracksHeading.style.display = "block";
      tracksHeading.innerHTML = "Various Tracks";
    }

    const songList = document.getElementById("variousTracks");
    songList.innerHTML = "";

    // Display full music list
    displaySongs(musicData);
  });
}
// Attach event listener to options container (event delegation)
document.querySelector(".options-container").addEventListener("click", function (event) {
  if (event.target.id === "newMusicButton") {
    resetUI();
    displayNewMusic();
  } else if (event.target.id === "albumButton") {
    resetUI();
    displayAlbums();
  } else if (event.target.id === "artistButton") {
    resetUI();
    displayArtists();
  } else if (event.target.id === "trendingButton") {
    resetUI();
    displayTrending();
  }
});

function displayNewMusic() {
  const newMusicDiv = document.getElementById("variousTracks");
  newMusicDiv.innerHTML = ''; // Clear previous content

  document.querySelector(".options-container").innerHTML = "<h2 style='font-size: 36px; text-align: center;'>NEW MUSIC</h2>";

  // Hide menu after clicking
  document.querySelector(".menu-options").style.display = "none";

  // Filter songs released on January 1, 2025
  const newMusicSongs = musicData.filter(song => song.release >= "2025-01-01");

  if (newMusicSongs.length === 0) {
    newMusicDiv.innerHTML = "<p style='text-align: center;'>No new music available.</p>";
    return;
  }

  const songList = document.createElement("ul");

  newMusicSongs.forEach(song => {
    const songItem = document.createElement("li");
    const songLink = document.createElement("a");
    songLink.href = "#";
    songLink.textContent = `${song.title} by ${song.artist}`;
    songLink.style.textDecoration = "none";
    songLink.addEventListener("click", function() {
      displaySongDetails(song);
      
      // Restore the original buttons in options-container
      document.querySelector(".options-container").innerHTML = `
        <button id="newMusicButton" style="margin: 10px;">New Music</button>
        <button id="albumButton" style="margin: 10px;">Album</button>
        <button id="artistButton" style="margin: 10px;">Artist</button>
        <button id="trendingButton" style="margin: 10px;">Trending</button>
      `;

      // Reattach event listeners
      document.getElementById("newMusicButton").addEventListener("click", function() {
        resetUI();
        displayNewMusic();
      });

      document.getElementById("albumButton").addEventListener("click", function() {
        resetUI();
        displayAlbums();
      });

      document.getElementById("artistButton").addEventListener("click", function() {
        resetUI();
        displayArtists();
      });

      document.getElementById("trendingButton").addEventListener("click", function() {
        resetUI();
        displayTrending();
      });
    });

    songItem.appendChild(songLink);
    songList.appendChild(songItem);
  });

  newMusicDiv.appendChild(songList);
}

// Attach event listener to New Music button in options container
document.getElementById("newMusicButton").addEventListener("click", function() {
  resetUI();
  displayNewMusic();
});

// Attach event listener to New Music in menu-options
document.querySelector(".menu-options a:nth-child(2)").addEventListener("click", function(event) {
  event.preventDefault();
  resetUI();
  displayNewMusic();
});

function displayAlbums() {
  const albumDiv = document.getElementById("variousTracks");
  albumDiv.innerHTML = ''; // Clear previous content
  document.querySelector(".options-container").innerHTML = "<h2 style='font-size: 36px; text-align: center;'>ALBUM</h2>";
  // Get unique album names from the music data
  const albumNames = [...new Set(musicData.map(song => song.album))];
  // Create an unordered list to display albums
  const albumList = document.createElement("ul");
  albumNames.forEach(albumName => {
    const albumItem = document.createElement("li");
    const albumLink = document.createElement("a");
    albumLink.href = "#";
    albumLink.textContent = albumName;
    albumLink.style.textDecoration = "none";
    albumLink.addEventListener("click", function() {
      displaySongsByAlbum(albumName);
      document.querySelector(".options-container").innerHTML = `<h2 style='font-size: 36px; text-align: center;'>ALBUM</h2>`;
    });
    albumItem.appendChild(albumLink);
    albumList.appendChild(albumItem);
  });
  albumDiv.appendChild(albumList);
}

// Create a function to display songs by album
function displaySongsByAlbum(albumName) {
  const albumDiv = document.getElementById("variousTracks");
  albumDiv.innerHTML = ''; // Clear previous content
  const albumSongs = musicData.filter(song => song.album === albumName);
 const heading = document.createElement("h2");
 heading.textContent = `Songs in Album: ${albumName}`;
  albumDiv.appendChild(heading);
  albumSongs.forEach(song => {
    const songElement = document.createElement("li");
    const songLink = document.createElement("a");
    songLink.href = "#";
    songLink.textContent = `${song.title} by ${song.artist}`;
    songLink.style.textDecoration = "none";
    songLink.addEventListener("click", function() {
      displaySongDetails(song);
    });
    songElement.appendChild(songLink);
    albumDiv.appendChild(songElement);
  });
}

function displaySongsByAlbum(albumName) {
  const albumDiv = document.getElementById("variousTracks");
  albumDiv.innerHTML = ''; // Clear previous content

  const albumSongs = musicData.filter(song => song.album === albumName);
  const heading = document.createElement("h2");
  heading.textContent = `Songs in Album: ${albumName}`;
  albumDiv.appendChild(heading);

  albumSongs.forEach(song => {
    const songElement = document.createElement("li");
    const songLink = document.createElement("a");
    songLink.href = "#";
    songLink.textContent = `${song.title} by ${song.artist}`;
    songLink.style.textDecoration = "none";
    songLink.addEventListener("click", function() {
      displaySongDetails(song);
      document.querySelector(".options-container").innerHTML = `
        <button id="newMusicButton" style="margin: 10px;">New Music</button>
        <button id="albumButton" style="margin: 10px;">Album</button>
        <button id="artistButton" style="margin: 10px;">Artist</button>
        <button id="trendingButton" style="margin: 10px;">Trending</button>
      `;

      // Reattach event listeners for the buttons
      document.getElementById("newMusicButton").addEventListener("click", function() {
        displayNewMusic();      });

      document.getElementById("albumButton").addEventListener("click", function() {
        resetUI();
        displayAlbums();
      });

      document.getElementById("artistButton").addEventListener("click", function() {
          resetUI();
        displayArtists();
      });

      document.getElementById("trendingButton").addEventListener("click", function() {
          resetUI();
        displayTrending();
      });

    });
    songElement.appendChild(songLink);
    albumDiv.appendChild(songElement);
  });
}


// Modify the 'albumButton' event listener
document.getElementById("albumButton").addEventListener("click", function() {
  resetUI();
  displayAlbums();
});


function displayTrending() {
  const trendingDiv = document.getElementById("variousTracks");
  trendingDiv.innerHTML = '';
  // Retrieve favorites from local storage
  let favorites = JSON.parse(localStorage.getItem("favorites")) || {};
  // Filter songs with more than 20 favorites
  const trendingSongs = musicData.filter(song => Object.keys(favorites).filter(file => file === song.file).length >= 20);
  if (trendingSongs.length === 0) {
    trendingDiv.innerHTML = "<p style='text-align: center;'>No trending songs available.</p>";
    document.querySelector(".options-container").innerHTML = `
      <button id="newMusicButton" style="margin: 10px;">New Music</button>
      <button id="albumButton" style="margin: 10px;">Album</button>
      <button id="artistButton" style="margin: 10px;">Artist</button>
      <button id="trendingButton" style="margin: 10px;">Trending</button>
    `;
    return;
  }
  document.querySelector(".options-container").innerHTML = "<h2 style='font-size: 36px; text-align: center; font-weight: bold;'>TRENDING</h2>";
  const songList = document.createElement("ul");
  trendingSongs.forEach(song => {
    const songItem = document.createElement("li");
    const songLink = document.createElement("a");
    songLink.href = "#";
    songLink.textContent = `${song.title} by ${song.artist}`;
    songLink.style.textDecoration = "none";
    songLink.addEventListener("click", function() {
      displaySongDetails(song);
      document.querySelector(".options-container").innerHTML = `
        <button id="newMusicButton" style="margin: 10px;">New Music</button>
        <button id="albumButton" style="margin: 10px;">Album</button>
        <button id="artistButton" style="margin: 10px;">Artist</button>
        <button id="trendingButton" style="margin: 10px;">Trending</button>
      `;
      // Reattach event listeners for the buttons
      document.getElementById("newMusicButton").addEventListener("click", function() {
        displayNewMusic();
      });
      document.getElementById("albumButton").addEventListener("click", function() {
        resetUI();
        displayAlbums();
      });
      document.getElementById("artistButton").addEventListener("click", function() {
        resetUI();
        displayArtists();
      });
      document.getElementById("trendingButton").addEventListener("click", function() {
        resetUI();
        displayTrending();
      });
    });
    songItem.appendChild(songLink);
    songList.appendChild(songItem);
  });
  trendingDiv.appendChild(songList);
}

// Event listener for trending button in options container
document.getElementById("trendingButton").addEventListener("click", function() {
  resetUI();
  displayTrending();
});

// Event listener for trending button in menu options
document.querySelector(".menu-options a:nth-child(5)").addEventListener("click", function(event) {
  event.preventDefault();
  resetUI();
  displayTrending();
  // Hide menu options
  document.querySelector(".menu-options").style.display = "none";
});


function displayArtists() {
  const artistDiv = document.getElementById("variousTracks");
  artistDiv.innerHTML = ''; // Clear previous content
  document.querySelector(".options-container").innerHTML = "<h2 style='font-size: 36px; text-align: center;'>ARTIST</h2>";

  // Get unique artist names from the music data
  const artistNames = [...new Set(musicData.map(song => song.artist))];

  // Create an unordered list to display artists
  const artistList = document.createElement("ul");
  artistNames.forEach(artistName => {
    const artistItem = document.createElement("li");
    const artistLink = document.createElement("a");
    artistLink.href = "#";
    artistLink.textContent = artistName;
    artistLink.style.textDecoration = "none";
    artistLink.addEventListener("click", function() {
      displaySongsByArtist(artistName);
      document.querySelector(".options-container").innerHTML = `<h2 style='font-size: 36px; text-align: center;'>ARTIST</h2>`;
    });
    artistItem.appendChild(artistLink);
    artistList.appendChild(artistItem);
  });
  artistDiv.appendChild(artistList);
}

function displaySongsByArtist(artistName) {
  const artistDiv = document.getElementById("variousTracks");
  artistDiv.innerHTML = ''; // Clear previous content

  const artistSongs = musicData.filter(song => song.artist === artistName);
  const heading = document.createElement("h2");
  heading.textContent = `Songs by: ${artistName}`;
  artistDiv.appendChild(heading);

  artistSongs.forEach(song => {
    const songElement = document.createElement("li");
    const songLink = document.createElement("a");
    songLink.href = "#";
    songLink.textContent = `${song.title} by ${song.artist}`;
    songLink.style.textDecoration = "none";
    songLink.addEventListener("click", function() {
      displaySongDetails(song);
      document.querySelector(".options-container").innerHTML = `
        <button id="newMusicButton" style="margin: 10px;">New Music</button>
        <button id="albumButton" style="margin: 10px;">Album</button>
        <button id="artistButton" style="margin: 10px;">Artist</button>
        <button id="trendingButton" style="margin: 10px;">Trending</button>
      `;

      // Reattach event listeners for the buttons
      document.getElementById("newMusicButton").addEventListener("click", function() {
        displayNewMusic();
      });

      document.getElementById("albumButton").addEventListener("click", function() {
        resetUI();
        displayAlbums();
      });

      document.getElementById("artistButton").addEventListener("click", function() {
        resetUI();
        displayArtists();
      });

   document.getElementById("trendingButton").addEventListener("click", function() {
        resetUI();
        displayTrending();
      });
    });
    songElement.appendChild(songLink);
    artistDiv.appendChild(songElement);
  });
}

  
// Modify the 'artistButton' event listener
document.getElementById("artistButton").addEventListener("click", function() {
  resetUI();
  displayArtists();
});

// Attach event listener to Album in menu-options
document.querySelector(".menu-options a:nth-child(3)").addEventListener("click", function(event) {
  event.preventDefault(); // Prevent default link behavior
  resetUI(); // Clear previous content or UI setup if necessary
  hideMenuOptions(); // Hide the menu options
  displayAlbums(); // Call the existing Album functionality
});

// Function to reset UI before displaying new content
function resetUI() {
  const albumDiv = document.getElementById("variousTracks");
  albumDiv.innerHTML = ''; // Clear previous content
  document.querySelector(".options-container").innerHTML = `
    <button id="newMusicButton" style="margin: 10px;">New Music</button>
    <button id="albumButton" style="margin: 10px;">Album</button>
    <button id="artistButton" style="margin: 10px;">Artist</button>
    <button id="trendingButton" style="margin: 10px;">Trending</button>
  `;

  // Reattach button functionality
  document.getElementById("albumButton").addEventListener("click", function() {
    resetUI();
    displayAlbums();
  });
}

// Function to hide the menu options
function hideMenuOptions() {
  const menuOptions = document.querySelector(".menu-options");
  if (menuOptions) {
    menuOptions.style.display = "none"; // Hide the menu options
  }
}

// Function to show the menu options again (if needed for a specific flow)
function showMenuOptions() {
  const menuOptions = document.querySelector(".menu-options");
  if (menuOptions) {
    menuOptions.style.display = "block"; // Show the menu options
  }
}

// Attach event listener to Album in menu-options
document.querySelector(".menu-options a:nth-child(4)").addEventListener("click", function(event) {
  event.preventDefault(); // Prevent default link behavior
  resetUI(); // Clear previous content or UI setup if necessary
  hideMenuOptions(); // Hide the menu options
  displayArtists(); // Call the existing Artist functionality
});

// Function to reset UI before displaying new content
function resetUI() {
  const artistDiv = document.getElementById("variousTracks");
  artistDiv.innerHTML = ''; // Clear previous content
  document.querySelector(".options-container").innerHTML = `
    <button id="newMusicButton" style="margin: 10px;">New Music</button>
    <button id="albumButton" style="margin: 10px;">Album</button>
    <button id="artistButton" style="margin: 10px;">Artist</button>
    <button id="trendingButton" style="margin: 10px;">Trending</button>
  `;

  // Reattach button functionality
  document.getElementById("artistButton").addEventListener("click", function() {
    resetUI();
    displayArtists();
  });
}

// Function to hide the menu options
function hideMenuOptions() {
  const menuOptions = document.querySelector(".menu-options");
  if (menuOptions) {
    menuOptions.style.display = "none"; // Hide the menu options
  }
}

// Function to show the menu options again (if needed for a specific flow)
function showMenuOptions() {
  const menuOptions = document.querySelector(".menu-options");
  if (menuOptions) {
    menuOptions.style.display = "block"; // Show the menu options
  }
}


// Add event listeners to the search input field and button
searchButton.addEventListener("click", function() {
const searchTerm = searchInput.value.toLowerCase();
globalSearch(searchTerm);
});

searchInput.addEventListener("keyup", function(event) {
if (event.key === "Enter") {
const searchTerm = searchInput.value.toLowerCase();
globalSearch(searchTerm);
}
});

// Display the music data
displaySongs(musicData);
});

</script>
</body>
</html>
 